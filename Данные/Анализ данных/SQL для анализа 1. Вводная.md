# Вводная
![[Pasted image 20251227120908.png]]
Функции - позволяют сохранять часто используемые вычисления.
R - язык статистики и графиков.
Python - язык общего назначения.

Разница между SQL, R, Python:
SQL выполняется на сервере БД.
R, Python как правило выполняются локально, поэтому ограничены мощностью ПК, хотя могут запускаться и на серваке. Также у R и Python бОльшая гибкость. Гораздо лучше работают со сложной статистикой.

# Процесс анализа данных

![[Pasted image 20251227121823.png]]
Книга про процесс анализа данных.

![[Pasted image 20251227122138.png]]
**Изучение** - знакомство с предметной областью, в которой они были сгенерированы, и с таблицами базы данных, в которых хранятся.
**Профилирование** - проверка возможных значений и их распределений в наборе данных.
**Очистка** - исправление неправильных и ли неполных данных, добавление категорий и флагов, обработка null значений.
**Структурирование** - процесс организации данных в строки и столбцы, необходимые в результирующем наборе.
**Анализ результатов** - просмотр результатов для выявления тенденций, подведения итогов и формулирования предположений.

# Виды БД
Данные из оперативной памяти можно проанализировать гораздо быстрее, чем данные из жесткого.
Существует два типа баз данных, которые имеют отношение к аналитической работе:
- строчные;
- колоночные;
## Строчные
Классический OLTP.
Хранение данных по строкам, транзакционные. Предназначены для эффективной обработки транзакций.
Для уменьшения ширины таблиц, базы приводят к третьей нормальной форме.
Для анализа данных может потребоваться множество соединений, что вообще нехорошо.
### Индексы
Могут иметь индексы, которые ускоряют поиск данных и join. Индексы сохраняют значения в каком-то поле или нескольких полях, проиндексированные как отдельные фрагменты данных вместе с указателем на строки, и, поскольку индексы меньше, чем вся таблица, их быстрее сканировать. Обычно индексируется первичный ключ, но могут индексироваться и другие поля и набор полей. Обычно полезно знать в каких полях таблиц есть индексы, т.к. можно ускорить обычные соединения добавив индексы на соответствующие поля.
Недостатки индексов:
- занимают много места;
- замедляют добавление данных, т.к. при добавлении данных необходимо добавлять новые значения в индекс и таким образом пересчитывать его хэш и т.д.;
- анализ данных как правило не является причиной, чтобы оптимизировать индексы;
Схема звезды была разработана для того, чтобы сделать более удобными OLTP для анализа.
## Колоночные
Классический OLAP.
Если строковые БД хранят строки, то колоночные... внезапно значения столбцов вместо значений строк.
Так сделано для оптимизации запросов, которые считывают много записей, но по нескольким столбцам:
- Snowflake;
- RedShift;
- Vertica;
Эффективно хранят большие объемы данных благодаря сжатию. Отсутствующие и повторяющиеся значения представлены маленькими маркерами вместо полного значения.
Вместо хранения длинной строки в 100 символов, хранит ссылку на хэш этой строки.
Не требуют использования первичных ключей и в них нет индексов.
Обновление и удаление записей дорогостоящие операции в большинстве колоночных БД, т.к. данные не хранятся вместе. Для очень больших таблиц принята политика - только для записи. Данные считываются чуть медленнее, т.к. извлекаются.