# Введение
В целом лектор в двух статьях фундаментально проходится по общим принципам работы API со стороны фронта, бэка и БД. Отдельно делается упор на то, что вся логика в каждом слое и даже внутри слоя инкапсулирована от других частей системы.
# Требования к аналитику при работе с API
Описано на 59 минуте во второй части, но поставил сюда:
- документация решений по интеграции систем и/или их компонентов;
- постановка задачи на разработку своих API и интеграцию с внешними системами через чужие API (описываем бизнес-логику. Логику бэка решают разработчики и архитекторы);
- тестирование API на уровне различных модулей (фронт, бэк, бд) на предмет поиска на каком уровне абстракции произошла ошибка;
# Первая часть
[Основа](https://www.youtube.com/watch?v=1IUYGe6Ck8c&ab_channel=%D0%9A%D0%BB%D1%83%D0%B1%28%D0%B2%D0%BD%D0%B5%29%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D1%85%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%BE%D0%B2)
Workflow при работе API
![[Pasted image 20250330152622.png]]
## Список требований к интеграции в случае API
1. Технические параметры:
	- адрес;
	- протокол;
	- формат кодировки;
	- ограничения;
	- параметры аутентификации;
	- (все эти параметры как правило выбирают системные архитекторы, разработчики. Аналитики только документируют);
2. Диаграмма взаимодействия объектов диаграммы (UML Sequence). + Какие методы используются.
![[Pasted image 20250330110008.png]]
3. Структура данных (XSD, JSON).
4. Состав данных (при проектировании API с указанием источников).

## Порядок изучения API
![[Pasted image 20250330110147.png]]

![[Pasted image 20250330110538.png]]

# Вторая часть
[Основа](https://www.youtube.com/watch?v=cQe5M_61J8Q&list=PLqjSjzX9B3nUisb0Omhum8lkHN3Kn3OLS&index=5&ab_channel=%D0%9A%D0%BB%D1%83%D0%B1%28%D0%B2%D0%BD%D0%B5%29%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D1%85%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%BE%D0%B2)
Рассказывается про логику бэка и БД. Как там происходит обработка API запросов.
По сути между бэком и БД работает такое же API, как между фронтом и бэком.
Статусы кодов и тело ответа прописывается на уровне функций в бэке. То есть разраб бэка смотрит какие варианты может вернуть функция и присваивает статус. При необходимости расшифровывает его, добавляет комментарии и т.д.

В нормальном приложении, если оно не микросервис на бэке не пишут никакой код. Бэк только вызывает процедуры в БД. Т.к. код SQL на бэке может положить БД, в случаае если не оптимизирован, плохо написан и т.д.
В случае микросервисов можно писать функции генерирующие SQL код, который передается в БД, которая может состоять из одной небольшой таблицы.

![[Pasted image 20250330172028.png]]
Каждый из модулей не знает как работает другой - клиент не знает как работает сервер, сервер не знает как работает СУБД. На уровне черного ящика. Клиент ничего не знает про СУБД, что внутри нее и дальше, СУБД не знает про клиент и т.д.
И даже внутри модуля API не знает как работает бизнес-логика и лишь вызывает функцию её обрабатывающую.

Тот же процесс, но интерпретация другой схемой.
![[Pasted image 20250330173018.png]]

Реальные промышленные системы
![[Pasted image 20250330173211.png]]
