[[UML 8. Моделирование взаимодействий]]
# Вводная
Диаграммы могут описывать:
- непрерывные циклы;
- одноразовые жизненные циклы;

Диаграммы одноразовых состояний описывают объекты с конечным сроком существования. Такие диаграммы имеют начальное и конечное состояние. Для обозначения начального и конечного состояния объектов используют следующие символы:
![[Pasted image 20241116062422.png]]
![[Pasted image 20241116062426.png]]
Начальное и конечное состояние можно указывать точками входа и выхода.
![[Pasted image 20241116062436.png]]
![[Pasted image 20241116062441.png]]
По сути схема аналог предыдущий. Просто другой вариант абстракции.
# Основные обозначения диаграммы состояний
![[Pasted image 20241116062515.png]]
![[Pasted image 20241116062521.png]]
## Действия и деятельность
Диаграмма состояний была бы не слишком полезна, если бы описывала только событие. Полное описание объекта должно указывать, что именно делает объект в ответ на события.
Действие – ссылка на поведение, выполняемое в ответ на произошедшее событие.
Деятельность – фактическое поведение, которое может вызываться любым количеством действий. Деятельность может выполняться при переходе, при входе и выходе из состояния.
Деятельность может описывать внутренние управляющие операции – например установку для объекта новых атрибутов или порождение других событий. Эта деятельность не имеет аналогов в реальном мире и предназначена для структурирования управления при реализации!!!

_Деятельность может быть:_
_- при переходе из состояния в состояние;_
_- при входе в состояние;_
_- при выходе из состояния;_
_Никаких специальных обозначений для этого нет, поэтому схему надо описывать, чтобы было понятно._
![[Pasted image 20241116062901.png]]

## Текущая деятельность
Деятельность занимающая некоторый промежуток времени. По определению такая деятельность может выполняться только в определенном состоянии.
![[Pasted image 20241116062922.png]]
Деятельность может осуществляться как при переходе в состояние. Так и при входе или выходе из него.
![[Pasted image 20241116062938.png]]
![[Pasted image 20241116062943.png]]
# Углубленное моделирование состояний
Для моделирования сложных систем можно использовать:
- вложенные диаграммы состояний;
- вложенные состояния;
- обобщение сигналов;
- параллелизм;
## Вложенные диаграммы состояний
![[Pasted image 20241116063055.png]]
В данной диаграмме все состояния, когда линия находится не в состоянии покоя через обобщение в квадрат объединены в контур _активный._ Из активного состояния линия переходит в неактивное состояние – Idle.

В случае необходимости расписывают отдельной схемой состояние, которое необходимо раскрыть.
## Обобщение сигналов
Сигналы могут образовывать иерархию обобщений наследуя от предков свои атрибуты.
![[Pasted image 20241116063119.png]]
# Параллелилизм в агрегации
![[Pasted image 20241116063211.png]]
Состояние автомобиля завязано на состояние каждой из систем в отдельный момент времени.
И все эти параллельные схемы также взаимодействуют друг с другом в каждый отдельно взятый момент времени.
# Параллелилизм в объекте
Подразумевает, что объекты можно разбить на множество состояний у которых будут свои атрибуты и методы. Пример в книге для меня не понятен.

Но если в целом, то будем считать, что на схеме показывается один объект с двумя поддиаграммами, на каждой из которых показано его состояние.
![[Pasted image 20241116063242.png]]
# Параллельные действия объекта
Объект может участвовать в нескольких параллельных действиях – банкомат выдающий обратно банковскую карту и деньги после завершения транзакции. Банкомат не может возвращаться в изначальное состояние пока оба условия не будут выполнены, пусть и в произвольном порядке.
![[Pasted image 20241116063309.png]]
Пример модели состояний интерфейса термостата
![[Pasted image 20241116063318.png]]
Модель состояний указывает разрешенные последовательности изменений объектов из модели классов.

Диаграмма состояний описывает поведение объектов одного класса.
Композитное состояние – агрегация нескольких параллельных состояний.
Используйте вложенные состояния, в тех случаях, когда один переход применим ко множеству состояний. 6.2.
Параллелилизм чаще всего связан с агрегацией объектов.
Старайтесь делать диаграммы состояний подклассов не зависящими от диаграмм состояний их предков. Диаграммы состояний подклассов должны описывать изменения атрибутов, которые были добавлены в этих подклассах.