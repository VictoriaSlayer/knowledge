[[UML 13. Анализ приложения]]
# Введение
Целью анализа предметной области является выработка точной, четкой, доступной для понимания, корректной модели реального мира. Прежде чем строить что-то сложное необходимо понять требования, которые будут предъявлены к продукту.
Необходимо будет проанализировать скрытый смысл требований и переформулировать их в более строгой форме.
Необходимо достичь понимания реальной системы, которую описывает формулировка задачи и представить её важнейшие черты в модели.
Аналитическая модель описывает:
- модель классов;
- модель состояний;
- модель взаимодействий;
Выбор конкретного варианта представлений зависит от суждений человека. Необходимо устранять двусмысленности и неправильные представления.

При анализе лучше записывать все идеи, какими бы многословными они не были. Главное не пропустить важные детали. Разработка модели итерационная.
Последовательность следующая:
- выделить классы;
- подготовить словарь данных;
- выделить ассоциации;
- выделить атрибуты объектов и связей;
- организовать и упростить классы при помощи наследования;
- проверить наличие маршрутов для наиболее вероятных запросов;
- итерация для уточнения модели;
- пересмотреть уровни абстрагирования;
- сгруппировать классы в пакеты;
## Выделение классов
Выделение классов объединяющих объекты предметной области - дома, люди, машины, такие понятия как траектории, расположение сидений, графики выплат.
Необходимо избегать конструкций относящихся к компьютерной реализации.
![[Pasted image 20241111065324.png]]

 А также избегать вариантов, когда мы подгоняем реальность под определенную конструкцию.
 ![[Pasted image 20241111065429.png]]
## Словарь данных
Слова допускают много интерпретация, поэтому для всех элементов модели необходимо подготовить словарь данных. Предложение-абзац. Словарь данных включает описание ассоциаций, атрибутов, операций и т.д.
## Выделение ассоциаций
Ассоциация описывает структурное свойство области приложения, а не кратковременное событие. В некоторых случаях требования выражают в виде действия, однако подразумевают некоторое структурное отношение, такое утверждение необходимо переформулировать.
Выделить ассоциации между классами, как они структурно связаны.

В классе Person не должно быть атрибута Employer. Класс Person должен быть связан с классом Company ассоциацией WorksFor.
Ассоциации могут быть реализованы множеством способов, которые лучше отложить до следующих этапов, чтобы сохранить свободу во время проектирования.

Также необходимо удалить лишние ассоциации после добавления всех.

Проанализировать семантику ассоциаций:
- неправильно названные ассоциации;
- названия полюсов ассоциаций;
- квалифицированные ассоциации;
- кратность;
- недостающие ассоциации;
- агрегация;

## Выделение атрибутов
Атрибуты свойства объектов. Атрибуты не должны быть объектами. Чтобы показать отношения между объектами следует использовать ассоциации.
Атрибуты выделяют как для объектов, так и для ассоциаций. Необходимо выделять только важные атрибуты.

Если важной чертой элемента является независимое существование, то это объект, а не атрибут.
Нет смысла показывать атрибуты, чье внутреннее состояние невидимо снаружи.
Полностью отличающийся атрибут следует переместить в другой класс.

## Реструктурирование классов
Обобщите классы при помощи наследования путем выяснения структуры.
Как сверху вниз. Так и снизу вверх.
В случае если у класса 2 разных роли, то разделить их.
Удалять избыточную информацию.
Итерационно оптимизировать модель.

В случае необходимости переходите на другой уровень абстракции.
![[Pasted image 20241114162502.png]]

Сгруппируйте классы в пакеты

# Модель состояний предметной области
Имеются объекты имеющие несколько качественно разных состояний за время своей жизни.
В этих состояниях могут быть разные:
- атрибуты;
- ассоциации;
- операции;
- поведение;

Необходимо записать состояние для каждого класса. Определить события для перехода в каждое состояние.

Модель состояний предметной области создается в несколько этапов:
- выявление классов с разными состояниями (жизненный цикл или цикличность);
- выделение состояний (значительные состояния объектов меняющие атрибуты и ассоциации);
- выделение событий (выделите события приводящие к переходам в состояния);
- построение диаграмм состояний (распределить события по состояниям к которым они относятся, обозначьте переходы);
- проверка диаграмм состояний (все ли состояния достижимы, все ли маршруты между состояниями проложены);
# Корректировка требований
После завершения анализа происходит корректировка требований определяющих дальнейшую разработку.
Реальные требования войдут в разработку. Кроме них могут быть выдвинуты ограничения. Они также должны быть установлены предельно ясно.
Цель анализа состоит в том, чтобы полностью определить проблему, не отдавая предпочтения реализации. На практике невозможно устранить полностью связь с реализацией. Как и не существует идеальной аналитической модели.
Назначение правил - сохранять гибкость и делать возможными последующие изменения.

