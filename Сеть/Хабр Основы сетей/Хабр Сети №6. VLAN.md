[основа](https://habr.com/ru/articles/319080/)

VLAN означает виртуальные локальные сети, и они определяются протоколом 802.1q (это протокол тегирования VLAN, который позволяет увеличить размер кадра Ethernet на четыре байта из-за вставки четырехбайтового тега VLAN в кадр Ethernet). Используя VLAN, мы можем виртуально разделить наши локальные сети на более мелкие сети, они работают как обычные локальные сети, за исключением того, что они логически или виртуально разделены, а не физически.
Подсеть/подсеть — это сеть внутри сети или меньший участок (подсеть) большой сети. По сути, подсети представляют собой логическое разделение IP-сети на несколько меньших сетей для обеспечения быстрой и эффективной работы сети.
# Коммутатор
Коммутатор - соединяет устройства внутри сетей. 

Если устройства находятся в рамках одной сети, они могут общаться спокойно.
Если устройства в разных сетях/VLAN и т.д., то общаться они не могут.

Сети между собой соединены физическими кабелями. По умолчанию физ. кабель представляет собой один физический поток LAN, в котором один единый поток информации, однако при желании мы можем данный поток разбить на подпотоки через создание VLAN. В данном случае происходит настройка коммутатора на создание новых подсущностей VLAN. И уже в этих VLAN настроить правила передачи информации. За каждым VLAN закрепляются определенные порты и в протоколах настраивается формат передачи информации, а также куда допустимо и недопустимо передавать информацию. 
Каждому VLAN надо выделять отдельную подсеть. Коммутатор не умеет маршрутизировать трафик из одной подсети в другую.

Независимо от физического расположения, можно логически объединять узлы в группы, там самым изолируя их от других. Очень удобно, когда сотрудники физически работают в разных местах, но должны быть объединены. И конечно с точки зрения безопасности VLAN не заменимы. Главное, чтобы к сетевым устройствам имели доступ ограниченный круг лиц, но это уже отдельная тема.  
Добились ограничения на канальном уровне. Трафик теперь не гуляет где попало, а ходит строго по назначению.

Если вкратце, то когда устройство пытается отправить данные с одного устройства на другое, то оно в начале ищет его в одной сети/подсети, потом пытается искать в другой, если имеется доступ к той сети. Во всем этом деле участвует ARP протокол (канального уровня), чей принцип работы мне знать не так уж и надо.

# Маршрутизатор
Маршрутизатор - соединяет сети. 
Если устройства в разных сетях/VLAN и т.д., то общаться они не могут.
Маршрутизатор перекидывает трафик с одного VLAN на другой.
Адрес шлюза - параметр маршрутизатора который используется, когда необходимо отправить сообщение узлу находящемуся в другой подсети.
Все это дело настраивается через протоколы и порты.