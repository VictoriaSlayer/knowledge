[[Олифер 2. Общие принципы построения сетей]]
Основа - https://itelon.ru/blog/lokalnyy-server/
# Локальный сервер
Локальный сервер – это набор программного обеспечения, который выполняет функции сервера, работающий на локальном компьютере или в локальной сети предприятия.

Удобный подход, когда мы тестируем на локальном сервере, а потом деплоим изменения на прод.

Иногда локальный сервер (local server) могут называть localhost, хотя это не совсем верно. Localhost – это компьютер пользователя в сети, на котором осуществляется доступ к удалённому веб-сайту или приложению. Однако, этот веб-сайт или приложение могут физически располагаться на компьютере пользователя и работать по тем же протоколам, как и при удалённом доступе.

Для этих целей используется т.н. «обратный IP-адрес» (loopback address) 127.0.0.1, который используется для тестирования программ на компьютере разработчика, так как будто с ними работает конечный пользователь, без пересылки информации через сеть Интернет.

При вызове какого-либо IP-адреса, вызов с компьютера уходит в Интернет. Однако, вызов адреса 127.0.0.1 не вызывает никакого взаимодействия с внешней сетью, но заставляет компьютер пользователя вести себя как внешний сервер. В этом случае компьютер и называется «localhost». Адресное пространство для localhost составляет от 127.0.0.0 до 127.255.255.255, но обычно используется адрес 127.0.0.1. Однако для того, чтобы компьютер работал как локальный сервер, на нем должно быть установлено соответствующее программное обеспечение.

# Localhost
Основа - https://ru.wikipedia.org/wiki/Localhost
Localhost - зарезервированное доменное имя для *частных IP адресов*.

## Частный IP адрес
Частный IP адрес - IP адрес принадлежащий к специальному диапазону не используемому в сети Интернет. Такие адреса как правило используются в локальных сетях. В связи с [дефицитом свободных IP-адресов](https://ru.wikipedia.org/wiki/%D0%98%D1%81%D1%87%D0%B5%D1%80%D0%BF%D0%B0%D0%BD%D0%B8%D0%B5_IPv4-%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%BE%D0%B2 "Исчерпание IPv4-адресов") провайдеры всё чаще раздают своим абонентам именно внутрисетевые адреса, а не внешние, при этом они все выходят в интернет через один внешний IP (так называемый «белый IP»).

### Проблема IPv4 протокола
У IPv4 протокола при его создании в 1981 заложили ограниченное число IP адресов - 4,22 млрд. 
Ограниченное число адресов обусловлено 32-битной кодировкой.
Например IP: 192.0.2.235. 

По началу IPv4 адреса закидывали всяким мясом в виде любых устройств и всех, всё устраивало. Однако никто не ожидал стремительного роста интернета и свободные IP4 адреса закончились в 2010-х годах.

### IPv6
На смену IPv4 придумали новый протокол IPv6. У него 128-битная кодировка, позволяющая в ХХ раз увеличить количество IP-адресов.

Пример IPv6 адреса - fe80:0:0:0:200:f8ff:fe21:67cf.
Также помимо увеличенного количества IP адресов у IPv6 свои плюшки в виде header заголовков, которые более компактны и оптимизированы.

### Loopback
Для сети, состоящей только из одного компьютера, как правило, используется всего один адрес — `127.0.0.1`, который устанавливается на специальный [сетевой интерфейс](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81 "Сетевой интерфейс") «[внутренней петли](https://ru.wikipedia.org/wiki/Loopback "Loopback")» ([англ.](https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA "Английский язык") loopback) в [сетевом протоколе](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB "Сетевой протокол") [TCP/IP](https://ru.wikipedia.org/wiki/TCP/IP "TCP/IP").
  
Использование адреса `127.0.0.1` позволяет устанавливать соединение и передавать [информацию](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F "Информация") для программ-серверов, работающих на том же компьютере, что и программа-клиент, независимо от конфигурации аппаратных сетевых средств компьютера (не требуется [сетевая карта](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BA%D0%B0%D1%80%D1%82%D0%B0 "Сетевая карта"), [модем](https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%B4%D0%B5%D0%BC "Модем"), и прочее [коммуникационное оборудование](https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BB%D0%B5%D0%BA%D0%BE%D0%BC%D0%BC%D1%83%D0%BD%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8 "Телекоммуникации"), интерфейс реализуется при помощи драйвера псевдоустройства в [ядре операционной системы](https://ru.wikipedia.org/wiki/%D0%AF%D0%B4%D1%80%D0%BE_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B "Ядро операционной системы")). Таким образом, для работы клиент-серверных приложений на одном компьютере не требуется изобретать дополнительные протоколы и дописывать программные модули. Примером может быть запущенный на компьютере веб-сервер и обращение к нему с этого компьютера для веб-разработки на этом компьютере без необходимости выкладывать веб-программу в сеть интернет, пока её разработка не закончена.

#### Как выполняется внутренняя обработка пакетов Loopback

В аппаратных маршрутизаторах существует правило, согласно которому IP-адрес loopback не должен маршрутизироваться. Поэтому данные, которые отправляются через этот интерфейс не похожи на стандартные пакеты.

На практике это выглядит так: когда данные поступают на 127.0.0.1, стек TCP/IP их распознает и не отправляет дальше, а возвращает на локальный ПК. Таким образом получается своеобразная «петля» информационного потока. Также стоит добавить, что на операционках Unix сетевой интерфейс loopback называется по-другому: **lo** или **lo0.**

#### Адрес обратной петли

По определению, адрес обратной петли — это адрес, который используют в работе петлевые интерфейсы.

С помощью loopback вы можете разворачивать на своем персональном компьютере полноценные сервера и запускать веб-приложения, чтобы испытать их работу в реальных условиях. То есть, говоря простыми словами, если вы запустили на своем ПК веб-сервер, при переходе по ссылкам **http://127.0.0.1/** или **http://localhost/** браузер будет открывать страницу сайта вашего устройства. 

Также с помощью loopback у вас есть возможность тестировать функции IP-стека своего устройства. Для этого используется специальная утилита ping, через которую отправляются тестовые пакеты данных.